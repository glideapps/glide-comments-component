<script src="https://plugins.glideapps.com/client-babel.min.js"></script>

<link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet" />

<script type="text/babel">
  const { useState } = React;

  function Comment({ author, photo, comment }) {
    return (
      <div className="flex">
        <div className="flex-shrink-0 mr-3">
          <img
            className="mt-2 rounded-full w-8 h-8 sm:w-10 sm:h-10 object-cover"
            src={photo}
            alt=""
          />
        </div>
        <div
          className="flex-1 border rounded-lg px-4 py-2 sm:px-6 sm:py-4 leading-relaxed"
        >
          <strong>{author}</strong>
          <span className="text-xs text-gray-400">3:34 PM</span>
          <p className="text-sm">{comment}</p>
        </div>
      </div>
    );
  }

  function Section({ photo, author, comment }) {
    const [comments, setComments] = useState([]);

    function pushComment() {
      setComments([{ photo, author, comment }, ...comments]);
    }

    return (
      <div
        className="antialiased mx-auto max-w-screen-sm"
        style={{ minHeight: 100 }}
      >
        <h3
          className="mb-4 text-lg font-semibold text-gray-900"
        >
          Comments
        </h3>

        <span className="inline-flex rounded-md shadow mb-10">
          <a
            onClick={pushComment}
            className="inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-gray-50"
          >
            Post
          </a>
        </span>

        <div className="space-y-4">
          {comments.map((c) => (
            <Comment {...c} />
          ))}
        </div>
      </div>
    );
  }

  glide.component(Section);
</script>